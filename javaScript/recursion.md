# 재귀

## 01. 재귀의 이해(큰제목)

### 재귀의 개념(소제목)

- 재귀의 사전적 정의
  - 원래의 자리로 되돌아가거나 되돌아옴.
  - 주어진 문제를 해결하기 위하여 하나의 함수에서 자신을 다시 호출하여 작업을 수행하는 방식. 이를 이용하기 위해서는 스택을 사용한다. 간단한 루틴을 풀 수 있지만, 처리 속도가 느리고 횟수가 지나치게 많으면 프로그램이 정지하기도 한다.
- 이미지로 표현한 재귀. 계속해서 원래의 상태로 돌아오는 것처럼 보인다.(사진첨부)

### 재귀 코드의 예시(소제목)

```javascript
function recursion() {
  console.log("Hello");
  console.log("Recursion");
}
```

해당 함수 호출 시 자기 자신을 계속 호출하며 같은 코드가 계속해서 실행되는 것을 확인할 수 있다. 이처럼 자기 자신을 호출하는 함수를 재귀 함수라고 한다.

### 재귀의 필요성(소제목)

1. 주어진 문제를 비슷한 구조의 더 작은 문제로 나눌 때
2. 중첩된 반복문이 많거나 반복문의 중첩 횟수를 예측하기 어려울 때
3. 반복문으로 작성된 코드를 더욱 간결하고 이해하기 쉽게 작성하고 싶을 때

# 02 재귀 활용 가이드(큰제목)

```
예제 : 자연수를 입력 받고, 1부터 입력 받은 자연수까지의 합을 리턴하는 함수 numSum을 작성하세요.
```

### 1. 재귀함수의 입력값과 출력값 정의(소제목)

재귀적으로 사고하는 데에 가장 먼저 해야 할 일은 문제를 가장 추상적으로 또는, 가장 단순하게 정의하는 것이다. 함수의 입출력값을 정의함으로써 재귀 함수를 통해 도달하고자 하는 목표를 정의하는 데 도움이 된다.  
 함수 numSum은 자연수를 입력으로 받고, number 타입을 리턴하며 다음과 같이 간단하게 표기할 수 있다.

```
numSum : number ==> number
```

### 2. 문제를 쪼개고 경우의 수 나누기(소제목)

문제를 쪼갤 기준을 정한 뒤, 문제를 더 큰 경우와 작은 경우로 구분할 수 있는지 확인한다. 일반적으로, 입력값을 이 기준으로 정하며 이때 중요한 관점은 입력값이나 문제의 순서와 크기이다. 주어진 입력값 또는 문제 상황을 크기로 구분할 수 있거나, 순서를 명확하게 정할 수 있다면 문제를 구분하는 데 도움이 된다. 그리고 구분된 문제를 푸는 방식이 순서나 크기와 관계없이 모두 같다면, 문제를 제대로 구분한 것이다.

```
numSum : number ==> number
numSum(1)    // 입력값이 1인 경우
numSum(1이상) // 입력값이 1이상인 경우
```

### 3. 단순한 문제 해결하기(소제목)

문제를 쪼갠 뒤 가장 해결하기 쉬운 문제부터 해결한다. 이를 재귀의 기초(base case)라고 부른다. 재귀의 기초는 나중에 재귀 함수를 구현할 때, 재귀의 탈출 조건(재귀 호출이 멈추는 조건)을 구성한다.
탈출 조건이 없는 경우 재귀 함수는 끝없이 자기 자신을 호출한다. 그렇다고 문제를 덜 쪼갠 상태에서 탈출 조건을 세우는 경우 문제를 제대로 해결할 수 없다. 그만큼 문제를 최대한 작게 쪼갠 뒤 문제를 해결하는 것이 중요하다.

```
numSum : number ==> number
numSum(1)    === 1    // (해결)입력값이 1인 경우
numSum(1이상)          // 입력값이 1이상인 경우
```

### 4. 복잡한 문제 해결하기(소제목)

남아 있는 복잡한 경우를 해결한다.

```
numSum(5) === 5 + 4 + 3 + 2 + 1 === num + numSum(4)
...
numSum(3) === 3 + 2 + 1 === num + numSum(2)
numSum(2) === 2 + 1 === num + numSum(1)
numSum(1) === 1
```

```
numSum : number ==> number
numSum(1)    === 1                     // (해결)입력값이 1인 경우
numSum(1이상) === numSum(num - 1) + num // (해결)입력값이 1이상
```

### 5. 코드 구현하기(소제목)

```javascript
const numSum = (num) => {
  // base case : 문제를 더 이상 쪼갤 수 없는 경우 (재귀의 기초)
  if (num === 1) {
    return 1;
  }

  // recursive case : 그렇지 않은 경우
  return num + numSum(num - 1);
};
```

- 일반적인 재귀 함수의 템플릿

  ```javascript
  const numSum = (num) => {
   // base case : 문제를 더 이상 쪼갤 수 없는 경우
   if (문제를 더 이상 쪼갤 수 없을 경우) {
       return 단순한 문제의 해답;
   }

   // recursive case : 그렇지 않은 경우
   return 더 작은 문제로 새롭게 정의된 문제
  }
  ```
